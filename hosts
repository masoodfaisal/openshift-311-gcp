# This is an example of a bring your own (byo) host inventory

# Create an OSEv3 group that contains the masters and nodes groups
[OSEv3:children]
masters
nodes
etcd
#nfs
glusterfs


# Set variables common for all OSEv3 hosts
[OSEv3:vars]
openshift_disable_check=docker_image_availability,package_availability,docker_storage,memory_availability,package_version
# SSH user, this user should allow ssh based auth without requiring a
# password. If using ssh key based auth, then the key should be managed by an
# ssh agent.
ansible_ssh_user=BASTION_USERNAME

# If ansible_ssh_user is not root, ansible_become must be set to true and the
# user must be configured for passwordless sudo
ansible_become=yes

# Debug level for all OpenShift components (Defaults to 2)
debug_level=2

#openshift_master_cluster_method=native
openshift_deployment_type=openshift-enterprise
openshift_release="3.11"

openshift_master_overwrite_named_certificates=true 
openshift_master_cluster_hostname=INTERNAL_MASTER
openshift_master_cluster_public_hostname=EXTERNAL_MASTER
# default subdomain to use for exposed routes
openshift_master_default_subdomain=APP_SUBDOMAIN

system_images_registry="registry.redhat.io"
oreg_auth_user=some_user
oreg_auth_password='my-pass'

openshift_master_identity_providers=[{'name': 'htpasswd_auth', 'login': 'true', 'challenge': 'true', 'kind': 'HTPasswdPasswordIdentityProvider'}]
# Defining htpasswd users
openshift_master_htpasswd_users={'admin': '$apr1$ZMSNEijn$bUQfDcLxB9e1vTUQ1X/fo.', 'dev': '$apr1$/R/ngzG9$3RkZ2D/95GGeCo1ruKwGQ.'}

openshift_use_crio=False

#certs
openshift_master_named_certificates=[{"certfile": "/path/to/custom1.crt", "keyfile": "/path/to/custom1.key", "cafile": "/path/to/custom-ca1.crt"}]
#openshift_master_ca_certificate={'certfile': '/path/to/ca.crt', 'keyfile': '/path/to/ca.key'}
openshift_hosted_router_certificate={"certfile": "/path/to/router.crt", "keyfile": "/path/to/router.key", "cafile": "/path/to/router-ca.crt"}


osn_storage_plugin_deps=['ceph','glusterfs','iscsi']

openshift_hosted_registry_storage_kind=glusterfs

#glusterfs
openshift_storage_glusterfs_namespace=app-storage
openshift_storage_glusterfs_storageclass=true
openshift_storage_glusterfs_storageclass_default=false
openshift_storage_glusterfs_block_deploy=true
openshift_storage_glusterfs_block_host_vol_size=100
openshift_storage_glusterfs_block_storageclass=true
openshift_storage_glusterfs_block_storageclass_default=false


# host group for masters
[masters]
master[1:3]

[etcd]
master[1:3]

#[nfs]
#ose-bastion

# NOTE: Currently we require that masters be part of the SDN which requires that they also be nodes
# However, in order to ensure that your masters are not burdened with running pods you should
# make them unschedulable by adding openshift_schedulable=False any node that's also a master.
[nodes]
#master[1:3] openshift_schedulable=false openshift_node_labels="{'region': 'primary'}" 
#node[1:2] openshift_node_labels="{'region': 'primary'}" 
#infranode[1:3] openshift_node_labels="{'region': 'infra'}"

#australia-southeast1-b.c.ocp-3-11-223704.internal

master1.australia-southeast1-a.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-master'
master2.australia-southeast1-b.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-master'
master3.australia-southeast1-c.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-master'

node1.australia-southeast1-a.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-compute'
node2.australia-southeast1-b.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-compute'

infranode1.australia-southeast1-a.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-infra'
infranode2.australia-southeast1-b.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-infra'
infranode3.australia-southeast1-c.c.ocp-3-11-223704.internal openshift_node_group_name='node-config-infra'


[glusterfs]
infranode1.australia-southeast1-a.c.ocp-3-11-223704.internal  glusterfs_devices='[ "/dev/sdb"]'
infranode2.australia-southeast1-b.c.ocp-3-11-223704.internal  glusterfs_devices='[ "/dev/sdb"]'
infranode3.australia-southeast1-c.c.ocp-3-11-223704.internal  glusterfs_devices='[ "/dev/sdb"]'



